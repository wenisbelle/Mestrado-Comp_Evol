<?xml version="1.0"?> 

<robot xmlns:xacro="http://ros.org/wiki/xacro" name="robot_wheel">
<xacro:property name="wheel_color" value="0.0 0.0 0.0 1"/>

<xacro:macro name="robot_wheel" params="prefix parent origin"> 
<link name="${prefix}_wheel"> 
  <collision>
    <origin xyz="0 0 0" rpy="1.5707963267949 0 0" /> 
    <geometry> 
      <cylinder radius="0.10" length="0.07" />
    </geometry> 
  </collision> 

  <inertial> 
    <origin xyz="-4.1867E-18 0.0068085 -1.65658661799998E-18" rpy="0 0 0" /> 
    <mass value="0.378" /> 
    <inertia ixx="0.00856502765719703" ixy="1.5074118157338E-19" ixz="-4.78150098725052E-19" 
        iyy="0.013670640432096" iyz="-2.68136447099727E-19" izz="0.00856502765719703" /> 
  </inertial> 
  
  <visual> 
    <origin xyz="0 0 0" rpy="1.5707963267949 0 0" /> 
    <geometry>        
      <cylinder radius="0.10" length="0.07" />
      <!--mesh filename="package://robot_description/meshes/wheel.dae"/-->
    </geometry>
    <material name="wheel_material">
        <color rgba="${wheel_color}"/>
    </material> 
  </visual> 

</link> 

<gazebo reference="${prefix}_wheel">
  <material>Gazebo/Black</material>
</gazebo>

<joint name="${prefix}_wheel_joint" type="continuous"> 
    <axis xyz="0 1 0"/> 
    <parent link ="${parent}"/> 
    <child link ="${prefix}_wheel"/> 
    <origin rpy ="0 0 0" xyz= "${origin}"/> 
  </joint> 

<transmission name="${prefix}_wheel_trans" type="SimpleTransmission"> 
    <type>transmission_interface/SimpleTransmission</type> 
    <joint name="${prefix}_wheel_joint"> 
   	  <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface> 
    </joint> 
</transmission> 

<gazebo reference="${prefix}_wheel" xmlns:ignition="http://ignitionrobotics.org/schema">
    <collision>
      <surface>
        <friction>
          <ode>
            <mu>1.0</mu> 
            <mu2>0.03</mu2>
            <fdir1 ignition:expressed_in="base_link">1 0 0</fdir1>
          </ode>
        </friction>
      </surface>
    </collision>
  </gazebo>

</xacro:macro> 

</robot> 
